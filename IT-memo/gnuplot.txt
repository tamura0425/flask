CentoOS7 インストール

必要なライブラリのインストール
gnuplotの出力形式として，pngやpngcairoを使いたかったので，ビルドの前に事前インストール。

$ su
# yum install pango-devel cairo-devel wxGTK-devel wxBase gd gd-devel
# exit



ダウンロード
http://www.gnuplot.info/
にてソースファイルをダウンロード。

現在の最新版は以下。
Version 5.2 (current)
Release 5.2.2 (November 2017)

https://sourceforge.net/projects/gnuplot/files/gnuplot/5.2.2/
gnuplot-5.2.2.tar.gz

解凍
$ tar -zxvf gnuplot-5.2.2.tar.gz


ビルド
$ cd gnuplot-5.2.2
$ sh ./configure --prefix=/home/hnishi/local
$ make 
$ make check
$ make install



インストール後，

/home/hnishi/local/bin/gnuplot





エラー対応

xhostコマンドで「unable to open display」となる場合の対処方法を紹介します。

1．問題点
xhostコマンドを実行すると、「unable to open display ""」というエラーになってしまいます。

# xhost +
xhost:  unable to open display ""
ちなみにxhostはXサーバへのアクセスの許可・不許可を設定するコマンドで、"xhost +"で全てのクライアントに対してアクセス制限を解除します。

２．原因と対処
原因は、xhostを実行したターミナルで環境変数DISPLAYが設定されていないためです。

# env | grep DISPLAY
#
ということでxhost実行の前に、環境変数DISPLAYを設定します。

# export DISPLAY=:0.0
# env | grep DISPLAY
# DISPLAY=:0.0
この状態でxhostを実行します。

# xhost +
access control disabled, clients can connect from any host
DISPLAY変数の値":0.0"は、"localhost:0.0"と同じ意味です。